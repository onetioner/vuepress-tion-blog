---
title: ç¬¬10ç« -ç»¼åˆæ¡ˆä¾‹-æ•°æ®å¯è§†åŒ–-æŠ˜çº¿å›¾
date: 2025-02-16 14:48:26
permalink: /pages/64c16b/
categories:
  - ã€ŠPythonã€‹ç¬”è®°
tags:
  - 
author: 
  name: onetion
  link: https://github.com/onetioner
---
# ç¬¬10ç« ï¼šç»¼åˆæ¡ˆä¾‹-æ•°æ®å¯è§†åŒ–-æŠ˜çº¿å›¾

## æ•ˆæœä¸€ï¼š2020å¹´å°ç¾æ—¥æ–°å† ç´¯è®¡ç¡®è¯Šäººæ•°

2020å¹´æ˜¯æ–°å† ç–«æƒ…çˆ†å‘çš„ä¸€å¹´, éšç€ç–«æƒ…çš„çˆ†å‘, å›½å†…å¤–ç¡®è¯Šäººæ•°æˆäº†å¤§å®¶å…³å¿ƒçš„çƒ­ç‚¹, ç›¸ä¿¡å¤§å®¶éƒ½æœ‰çœ‹è¿‡ç±»ä¼¼çš„ç–«æƒ…æŠ¥å‘Š. æœ¬æ¡ˆä¾‹å¯¹å°åº¦ç¾å›½æ—¥æœ¬ä¸‰ä¸ªå›½å®¶ç¡®è¯Šäººæ•°çš„è¿›è¡Œäº†å¯è§†åŒ–å¤„ç†, å½¢æˆäº†å¯è§†åŒ–çš„ç–«æƒ…ç¡®è¯Šäººæ•°æŠ¥å‘Š.

![image-20250216133729951](https://raw.githubusercontent.com/onetioner/img/main/PicGo2/202502161337996.png)

## æ•ˆæœäºŒï¼šå…¨å›½ç–«æƒ…åœ°å›¾å¯è§†åŒ–

![image-20250216133755729](https://raw.githubusercontent.com/onetioner/img/main/PicGo2/202502161337769.png)

![image-20250216133848645](https://raw.githubusercontent.com/onetioner/img/main/PicGo2/202502161338680.png)

## æ•ˆæœä¸‰ï¼šåŠ¨æ€GDPå¢é•¿å›¾

![image-20250216133944361](https://raw.githubusercontent.com/onetioner/img/main/PicGo2/202502161339393.png)

## æ•°æ®æ¥æº

- **æœ¬æ¡ˆä¾‹æ•°æ®å…¨éƒ¨æ¥è‡ª<<ç™¾åº¦ç–«æƒ…å®æ—¶å¤§æ•°æ®æŠ¥å‘Š>>ï¼ŒåŠå…¬å¼€çš„å…¨çƒå„å›½GDPæ•°æ®**

![image-20250216134108532](https://raw.githubusercontent.com/onetioner/img/main/PicGo2/202502161341574.png)

- **ä½¿ç”¨çš„æŠ€æœ¯**

  **Echarts** æ˜¯ä¸ªç”±ç™¾åº¦å¼€æºçš„æ•°æ®å¯è§†åŒ–ï¼Œå‡­å€Ÿç€è‰¯å¥½çš„äº¤äº’æ€§ï¼Œç²¾å·§çš„å›¾è¡¨è®¾è®¡ï¼Œå¾—åˆ°äº†ä¼—å¤šå¼€å‘è€…çš„è®¤å¯. è€Œ **Python** æ˜¯é—¨å¯Œæœ‰è¡¨è¾¾åŠ›çš„è¯­è¨€ï¼Œå¾ˆé€‚åˆç”¨äºæ•°æ®å¤„ç†. å½“æ•°æ®åˆ†æé‡ä¸Šæ•°æ®å¯è§†åŒ–æ—¶pyecharts è¯ç”Ÿäº†.

![image-20250216134155278](https://raw.githubusercontent.com/onetioner/img/main/PicGo2/202502161341310.png)

## 1.0 å­¦ä¹ ç›®æ ‡

- å¯è§†åŒ–æ¡ˆä¾‹çš„å­¦ä¹ ç›®æ ‡ï¼š
  - é€šè¿‡æ¡ˆä¾‹ï¼Œå›å¿†å·©å›ºPythonåŸºç¡€çš„è¯­æ³•
  - é”»ç‚¼ç¼–ç¨‹èƒ½åŠ›ï¼Œç†Ÿç»ƒè¯­æ³•çš„ä½¿ç”¨

## 1.1 ç›®å½•

- jsonæ•°æ®æ ¼å¼

- pyechartsæ¨¡å—ä»‹ç»

- pyechartså¿«é€Ÿå…¥é—¨

- æ•°æ®å¤„ç†

- åˆ›å»ºæŠ˜çº¿å›¾

## 1.2 jsonæ•°æ®æ ¼å¼

### 1.2.1 å­¦ä¹ ç›®æ ‡

- çŸ¥é“ä»€ä¹ˆæ˜¯json

- æŒæ¡å¦‚ä½•ä½¿ç”¨jsonè¿›è¡Œæ•°æ®è½¬åŒ–

### 1.2.2  ä»€ä¹ˆæ˜¯json

- JSONæ˜¯ä¸€ç§è½»é‡çº§çš„æ•°æ®äº¤äº’æ ¼å¼ã€‚å¯ä»¥æŒ‰ç…§JSONæŒ‡å®šçš„æ ¼å¼å»ç»„ç»‡å’Œå°è£…æ•°æ®

- JSONæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªå¸¦æœ‰ç‰¹å®šæ ¼å¼çš„å­—ç¬¦ä¸²



- **ä¸»è¦åŠŸèƒ½**ï¼šjsonå°±æ˜¯ä¸€ç§åœ¨å„ä¸ªç¼–ç¨‹è¯­è¨€ä¸­æµé€šçš„æ•°æ®æ ¼å¼ï¼Œè´Ÿè´£ä¸åŒç¼–ç¨‹è¯­è¨€ä¸­çš„æ•°æ®ä¼ é€’å’Œäº¤äº’. ç±»ä¼¼äºï¼š
  - å›½é™…é€šç”¨è¯­è¨€-**è‹±è¯­**
  - ä¸­å›½56ä¸ªæ°‘æ—ä¸åŒåœ°åŒºçš„é€šç”¨è¯­è¨€-**æ™®é€šè¯**

### 1.2.3  jsonæœ‰ä»€ä¹ˆç”¨

- å„ç§ç¼–ç¨‹è¯­è¨€**å­˜å‚¨æ•°æ®çš„å®¹å™¨**ä¸å°½ç›¸åŒ,åœ¨**Python**ä¸­æœ‰**å­—å…¸dict**è¿™æ ·çš„æ•°æ®ç±»å‹, è€Œå…¶å®ƒè¯­è¨€å¯èƒ½æ²¡æœ‰å¯¹åº”çš„å­—å…¸ã€‚
- ä¸ºäº†è®©ä¸åŒçš„è¯­è¨€éƒ½èƒ½å¤Ÿç›¸äº’é€šç”¨çš„äº’ç›¸ä¼ é€’æ•°æ®ï¼ŒJSONå°±æ˜¯ä¸€ç§éå¸¸è‰¯å¥½çš„ä¸­è½¬æ•°æ®æ ¼å¼ã€‚å¦‚ä¸‹å›¾ï¼Œä»¥Pythonå’ŒCè¯­è¨€äº’ä¼ æ•°æ®ä¸ºä¾‹ï¼š

![image-20250216134835726](https://raw.githubusercontent.com/onetioner/img/main/PicGo2/202502161348766.png)

### 1.2.4  jsonæ ¼å¼æ•°æ®è½¬åŒ–

- jsonæ ¼å¼çš„æ•°æ®è¦æ±‚å¾ˆä¸¥æ ¼, ä¸‹é¢æˆ‘ä»¬çœ‹ä¸€ä¸‹ä»–çš„è¦æ±‚

```python
# jsonæ•°æ®çš„æ ¼å¼å¯ä»¥æ˜¯ï¼š 
{"name":"admin","age":18} 

# ä¹Ÿå¯ä»¥æ˜¯ï¼š  
[{"name":"admin","age":18},{"name":"root","age":16},{"name":"å¼ ä¸‰","age":20}] 
```

### 1.2.5 Pythonæ•°æ®å’ŒJsonæ•°æ®çš„ç›¸äº’è½¬åŒ–

- Pythonæ•°æ®å’ŒJsonæ•°æ®çš„ç›¸äº’è½¬åŒ–

```python
# å¯¼å…¥jsonæ¨¡å— 
import json 

# å‡†å¤‡ç¬¦åˆæ ¼å¼jsonæ ¼å¼è¦æ±‚çš„pythonæ•°æ® 
data = [{"name": "è€ç‹", "age": 16}, {"name": "å¼ ä¸‰", "age": 20}]
 
# é€šè¿‡ json.dumps(data) æ–¹æ³•æŠŠpythonæ•°æ®è½¬åŒ–ä¸ºäº†jsonæ•°æ® 
data = json.dumps(data) 

# é€šè¿‡ json.loads(data) æ–¹æ³•æŠŠjsonæ•°æ®è½¬åŒ–ä¸ºäº†pythonæ•°æ® 
data = json.loads(data)
```

```python
"""
æ¼”ç¤ºJSONæ•°æ®å’ŒPythonå­—å…¸çš„ç›¸äº’è½¬æ¢
"""
import json

# å‡†å¤‡åˆ—è¡¨ï¼Œåˆ—è¡¨å†…æ¯ä¸€ä¸ªå…ƒç´ éƒ½æ˜¯å­—å…¸ï¼Œå°†å…¶è½¬æ¢ä¸ºJSON
data = [{"name": "å¼ å¤§å±±", "age": 11}, {"name": "ç‹å¤§é”¤", "age": 13}, {"name": "èµµå°è™", "age": 16}]
json_str = json.dumps(data, ensure_ascii=False)
print(type(json_str))
print(json_str)

# å‡†å¤‡å­—å…¸ï¼Œå°†å­—å…¸è½¬æ¢ä¸ºJSON
d = {"name": "å‘¨æ°ä¼¦", "addr": "å°åŒ—"}
json_str = json.dumps(d, ensure_ascii=False)
print(type(json_str))
print(json_str)

# å°†JSONå­—ç¬¦ä¸²è½¬æ¢ä¸ºPythonæ•°æ®ç±»å‹[{k: v, k: v}, {k:v, k:v}]
s = '[{"name": "å¼ å¤§å±±", "age": 11}, {"name": "ç‹å¤§é”¤", "age": 13}, {"name": "èµµå°è™", "age": 16}]'
l = json.loads(s)
print(type(l))
print(l)

# å°†JSONå­—ç¬¦ä¸²è½¬æ¢ä¸ºPythonæ•°æ®ç±»å‹{k: v, k: v}
s = '{"name": "å¼ å¤§å±±", "age": 11}'
d = json.loads(s)
print(type(d))
print(d)
```

### 1.2.5 æ€»ç»“

- **json**ï¼šæ˜¯ä¸€ç§è½»é‡çº§çš„æ•°æ®äº¤äº’æ ¼å¼, é‡‡ç”¨å®Œå…¨ç‹¬ç«‹äºç¼–ç¨‹è¯­è¨€çš„æ–‡æœ¬æ ¼å¼æ¥å­˜å‚¨å’Œè¡¨ç¤ºæ•°æ®ï¼ˆå°±æ˜¯å­—ç¬¦ä¸²ï¼‰

  - Pythonè¯­è¨€ä½¿ç”¨JSONæœ‰å¾ˆå¤§ä¼˜åŠ¿ï¼Œå› ä¸ºï¼šJSONæ— éå°±æ˜¯ä¸€ä¸ªå•ç‹¬çš„å­—å…¸æˆ–ä¸€ä¸ªå†…éƒ¨å…ƒç´ éƒ½æ˜¯å­—å…¸çš„åˆ—è¡¨

  - æ‰€ä»¥JSONå¯ä»¥ç›´æ¥å’ŒPythonçš„å­—å…¸æˆ–åˆ—è¡¨è¿›è¡Œæ— ç¼è½¬æ¢ã€‚

- **jsonæ ¼å¼æ•°æ®è½¬åŒ–**
  - é€šè¿‡ json.dumps(data) æ–¹æ³•æŠŠpythonæ•°æ®è½¬åŒ–ä¸ºäº† jsonæ•°æ®
    - data = json.dumps(data)
    - å¦‚æœæœ‰ä¸­æ–‡å¯ä»¥å¸¦ä¸Šï¼šensure_ascii=Falseå‚æ•°æ¥ç¡®ä¿ä¸­æ–‡æ­£å¸¸è½¬æ¢
  - é€šè¿‡ json.loads(data) æ–¹æ³•æŠŠjosnæ•°æ®è½¬åŒ–ä¸ºäº† pythonåˆ—è¡¨æˆ–å­—å…¸
    - data = json.loads(data)

## 1.3 pyechartsæ¨¡å—ä»‹ç»

### 1.3.1 pyechartsæ¨¡å—

- å¦‚æœæƒ³è¦åšå‡ºæ•°æ®å¯è§†åŒ–æ•ˆæœå›¾, å¯ä»¥å€ŸåŠ©pyechartsæ¨¡å—æ¥å®Œæˆ



- **æ¦‚å†µ** :

  **Echarts** æ˜¯ä¸ªç”±ç™¾åº¦å¼€æºçš„æ•°æ®å¯è§†åŒ–ï¼Œå‡­å€Ÿç€è‰¯å¥½çš„äº¤äº’æ€§ï¼Œç²¾å·§çš„å›¾è¡¨è®¾è®¡ï¼Œå¾—åˆ°äº†ä¼—å¤šå¼€å‘è€…çš„è®¤å¯. è€Œ **Python** æ˜¯é—¨å¯Œæœ‰è¡¨è¾¾åŠ›çš„è¯­è¨€ï¼Œå¾ˆé€‚åˆç”¨äºæ•°æ®å¤„ç†. å½“æ•°æ®åˆ†æé‡ä¸Šæ•°æ®å¯è§†åŒ–æ—¶pyecharts è¯ç”Ÿäº†.

### 1.3.1 pyechartsæ¨¡å—å®‰è£…

- **ä½¿ç”¨åœ¨å‰é¢å­¦è¿‡çš„pipå‘½ä»¤å³å¯å¿«é€Ÿå®‰è£…PyEchartsæ¨¡å—**

- pip install pyecharts

![image-20250216140001385](https://raw.githubusercontent.com/onetioner/img/main/PicGo2/202502161400430.png)

### 1.3.2 æ€»ç»“

- å¼€å‘å¯è§†åŒ–å›¾è¡¨ä½¿ç”¨çš„æŠ€æœ¯æ ˆæ˜¯ï¼š
  - Echartsæ¡†æ¶çš„Pythonç‰ˆæœ¬ï¼šPyEchartsåŒ…
- å¦‚ä½•å®‰è£…PyEchartsåŒ…ï¼š
  - pip install pyecharts
- å¦‚ä½•æŸ¥çœ‹å®˜æ–¹ç¤ºä¾‹
  - æ‰“å¼€å®˜æ–¹ç”»å»Šï¼š
  - https://gallery.pyecharts.org/#/README

## 1.4 pyechartså¿«é€Ÿå…¥é—¨

### 1.4.1 å­¦ä¹ ç›®æ ‡

- æ„å»ºä¸€ä¸ªåŸºç¡€çš„æŠ˜çº¿å›¾

- ä½¿ç”¨å…¨å±€é…ç½®é¡¹è®¾ç½®å±æ€§

### 1.4.2 pyecharså…¥é—¨

- **åŸºç¡€æŠ˜çº¿å›¾**

```python
# å¯¼åŒ…ï¼Œå¯¼å…¥LineåŠŸèƒ½æ„å»ºæ‹†çº¿å›¾å¯¹è±¡
from pyecharts.charts import Line

# å¾—åˆ°æŠ˜çº¿å›¾å¯¹è±¡
line = Line()

# æ·»åŠ xè½´æ•°æ®
line.add_xaxis(["ä¸­å›½", "ç¾å›½", "è‹±å›½"])

# æ·»åŠ yè½´æ•°æ®
line.add_yaxis("GDP", [30, 20, 10])

# ç”Ÿæˆå›¾è¡¨
line.render()
```

![image-20250216141454698](https://raw.githubusercontent.com/onetioner/img/main/PicGo2/202502161414753.png)

### 1.4.3  pyechartsæœ‰å“ªäº›é…ç½®é€‰é¡¹

- pyechartsæ¨¡å—ä¸­æœ‰å¾ˆå¤šçš„é…ç½®é€‰é¡¹, å¸¸ç”¨åˆ°2ä¸ªç±»åˆ«çš„é€‰é¡¹:

  - **å…¨å±€é…ç½®é€‰é¡¹**

  - **ç³»åˆ—é…ç½®é€‰é¡¹**

### 1.4.4 set_global_optsæ–¹æ³•

- è¿™é‡Œ**å…¨å±€é…ç½®é€‰é¡¹**å¯ä»¥é€šè¿‡**set_global_opts**æ–¹æ³•æ¥è¿›è¡Œé…ç½®, ç›¸åº”çš„é€‰é¡¹å’Œé€‰é¡¹çš„åŠŸèƒ½å¦‚ä¸‹:

![image-20250216141635125](https://raw.githubusercontent.com/onetioner/img/main/PicGo2/202502161416163.png)

- ç³»åˆ—é…ç½®é¡¹ï¼Œæˆ‘ä»¬åœ¨åé¢æ„å»ºæ¡ˆä¾‹æ—¶è®²è§£

```python
line.set_global_opts(
    title_opts=TitleOpts(title="æµ‹è¯•", pos_left="center", pos_bottom="1%"),
    legend_opts=LegendOpts(is_show=True),
    toolbox_opts=ToolboxOpts(is_show=True),
    visualmap_opts=VisualMapOpts(is_show=True)
)
```

```python
"""
æ¼”ç¤ºpyechartsçš„åŸºç¡€å…¥é—¨
"""

# å¯¼åŒ…
from pyecharts.charts import Line
from pyecharts.options import TitleOpts, LegendOpts, ToolboxOpts, VisualMapOpts

# åˆ›å»ºä¸€ä¸ªæŠ˜çº¿å›¾å¯¹è±¡
line = Line()

# ç»™æŠ˜çº¿å›¾å¯¹è±¡æ·»åŠ xè½´çš„æ•°æ®
line.add_xaxis(["ä¸­å›½", "ç¾å›½", "è‹±å›½"])

# ç»™æŠ˜çº¿å›¾å¯¹è±¡æ·»åŠ yè½´çš„æ•°æ®
line.add_yaxis("GDP", [30, 20, 10])

# è®¾ç½®å…¨å±€é…ç½®é¡¹set_global_opts æ¥è®¾ç½®ï¼Œposition
line.set_global_opts(
    title_opts=TitleOpts(title="GDPå±•ç¤º", pos_left="center", pos_bottom="1%"),
    legend_opts=LegendOpts(is_show=True),
    toolbox_opts=ToolboxOpts(is_show=True),
    visualmap_opts=VisualMapOpts(is_show=True)
)

# é€šè¿‡renderæ–¹æ³•ï¼Œå°†ä»£ç ç”Ÿæˆä¸ºå›¾åƒ
line.render()
```

### 1.4.5 æ€»ç»“

- **pyechartsæ¨¡å—ä¸­æœ‰å¾ˆå¤šçš„é…ç½®é€‰é¡¹, å¸¸ç”¨åˆ°ä¸‰ä¸ªç±»åˆ«çš„é€‰é¡¹:**
  - å…¨å±€é…ç½®é€‰é¡¹
  - ç³»åˆ—é…ç½®é€‰é¡¹

- **å…¨å±€é…ç½®é¡¹èƒ½åšä»€ä¹ˆï¼Ÿ**
  - é…ç½®å›¾è¡¨çš„æ ‡é¢˜
  - é…ç½®å›¾ä¾‹
  - é…ç½®é¼ æ ‡ç§»åŠ¨æ•ˆæœ
  - é…ç½®å·¥å…·æ 
  - ç­‰æ•´ä½“é…ç½®é¡¹

## 1.5 æ•°æ®å¤„ç†

### 1.5.1 å­¦ä¹ ç›®æ ‡

- èƒ½å¤Ÿé€šè¿‡jsonæ¨¡å—å¯¹æ•°æ®è¿›è¡Œå¤„ç†

### 1.5.2 æ•°æ®å¤„ç†

- **åŸå§‹æ•°æ®æ ¼å¼**:

![image-20250216142050033](https://raw.githubusercontent.com/onetioner/img/main/PicGo2/202502161420083.png)

- **å¯¼å…¥æ¨¡å—:**

```python
# å¯¼å…¥jsonæ¨¡å—
import json
```

- **å¯¹æ•°æ®è¿›è¡Œæ•´ç†, è®©æ•°æ®ç¬¦åˆjsonæ ¼å¼:**

```python
# æŠŠä¸ç¬¦åˆjsonæ•°æ®æ ¼å¼çš„ "jsonp_1629350871167_29498(" å»æ‰ 
data = data.replace("jsonp_1629350871167_29498(", "") 

# æŠŠä¸ç¬¦åˆjsonæ•°æ®æ ¼å¼çš„ ");" å»æ‰ 
data = data[:-2] 

# æ•°æ®æ ¼å¼ç¬¦åˆjsonæ ¼å¼å,å¯¹æ•°æ®è¿›è¡Œè½¬åŒ– 
data = json.loads(data) 

# è·å–æ—¥æœ¬çš„ç–«æƒ…æ•°æ® 
data = data["data"][0]['trendâ€™]
                       
# x1_dataå­˜æ”¾æ—¥æœŸæ•°æ® 
x1_data = data['updateDateâ€™] 
               
# y1_dataå­˜æ”¾äººæ•°æ•°æ® 
y1_data = data['list'][0]["data"] 
               
# è·å–2020å¹´çš„æ•°æ® 
x1_data = data['updateDate'][:314] 
               
# è·å–2020å¹´çš„æ•°æ® 
y1_data = data['list'][0]["data"][:314]
```

## 1.6 åˆ›å»ºæŠ˜çº¿å›¾

### 1.6.1 å­¦ä¹ ç›®æ ‡

- é€šè¿‡pyechartså®Œæˆç–«æƒ…æŠ˜çº¿å›¾

### 1.6.1 å¯¼å…¥æ¨¡å—

- **å¯¼å…¥æ¨¡å—:**

```python
# å¯¼å…¥æŠ˜çº¿å›¾æ¨¡å—
from pyecharts.charts import Line

# å¯¼å…¥é…ç½®é€‰é¡¹æ¨¡å—
import pyecharts.options as opts
```

### 1.6.2 æŠ˜çº¿å›¾ç›¸å…³é…ç½®é¡¹

- **æŠ˜çº¿å›¾ç›¸å…³é…ç½®é¡¹**

| **é…ç½®é¡¹** | **ä½œç”¨**               | **ä»£ç å®ä¾‹**                                             |
| ---------- | ---------------------- | -------------------------------------------------------- |
| init_opts  | å¯¹æŠ˜çº¿å›¾åˆå§‹åŒ–è®¾ç½®å®½é«˜ | init_opts=opts.InitOpts(width="1600px",  height="800px") |
| .add_xaxis | æ·»åŠ xè½´æ•°æ®            | .add_xaxis(åˆ—è¡¨)                                         |
| .add_yaxis | æ·»åŠ yè½´æ•°æ®            |                                                          |

- **åˆ›å»ºæŠ˜çº¿å›¾**
  - **è¿™é‡Œçš„Line()æ˜¯æ„å»ºç±»å¯¹è±¡ï¼Œæˆ‘ä»¬å…ˆä¸å¿…ç†è§£æ˜¯ä»€ä¹ˆæ„æ€ï¼Œåç»­åœ¨Pythoné«˜é˜¶ä¸­è¿›è¡Œè¯¦ç»†è®²è§£ã€‚**
  - **ç›®å‰æˆ‘ä»¬ç®€å•çš„ä¼šç”¨å³å¯**

```python
# åˆ›å»ºæŠ˜çº¿å›¾
l = Line(init_opts=opts.InitOpts(width="1600px", height="800px"))
```

- **æ·»åŠ æ•°æ®**

```python
l.add_xaxis()  # æ·»åŠ xè½´æ•°æ®

l.add_yaxis()  # æ·»åŠ yè½´æ•°æ®
```

- **add_yaxisç›¸å…³é…ç½®é€‰é¡¹**

| **é…ç½®é¡¹**     | **ä½œç”¨**               | **ä»£ç å®ä¾‹**                               |
| -------------- | ---------------------- | ------------------------------------------ |
| series_name    | è®¾ç½®å›¾ä¾‹åç§°           | series_name="ç¾å›½ç¡®è¯Šäººæ•°"                 |
| y_axis         | è¾“å…¥yè½´æ•°æ®            | y_axis=["åˆ—è¡¨"]                            |
| symbol_size    | è®¾ç½®ç‚¹çš„å¤§å°           | symbol_size=10                             |
| label_opts     | æ ‡ç­¾è®¾ç½®é¡¹ï¼šä¸æ˜¾ç¤ºæ ‡ç­¾ | label_opts=opts.LabelOpts(is_show=False)   |
| linestyle_opts | çº¿æ¡å®½åº¦å’Œæ ·å¼         | linestyle_opts=opts.LineStyleOpts(width=2) |

```python
l1 = (
      Line(init_opts=opts.InitOpts(width="1600px", height="800px"))
        .add_xaxis(xaxis_data=x1_data[0:-1:2])  # æ·»åŠ xè½´æ•°æ®
        .add_yaxis(  # é…ç½®yè½´
          series_name="ç¾å›½ç¡®è¯Šäººæ•°",  # è®¾ç½®å›¾ä¾‹åç§°
        	y_axis=y1_data[0:-1],  # è¾“å…¥yè½´æ•°æ®
          symbol_size=10,  # è®¾ç½®ç‚¹çš„å¤§å°
          label_pts=opts.LabelOpts(is_show=False),  # æ ‡ç­¾è®¾ç½®é¡¹ï¼šæ˜¾ç¤ºæ ‡ç­¾
          linestyle_opts=opts.LineStyleOpts(width=2)  # çº¿æ¡å®½åº¦å’Œæ ·å¼
        )
			)
```

![image-20250216144448530](https://raw.githubusercontent.com/onetioner/img/main/PicGo2/202502161444593.png)

### 1.6.3 å…¨å±€é…ç½®é€‰é¡¹

- **set_global_optså…¨å±€é…ç½®é€‰é¡¹:**

| **é…ç½®é¡¹**  | **ä½œç”¨**         | **ä»£ç å®ä¾‹**                                                |
| ----------- | ---------------- | ----------------------------------------------------------- |
| title_opts  | è®¾ç½®å›¾æ ‡é¢˜å’Œä½ç½® | title_opts=opts.TitleOpts(title="æ ‡é¢˜",  pos_left="center") |
| yaxis_opts  | yè½´é…ç½®é¡¹        | yaxis_opts=opts.AxisOpts(name="ç´¯è®¡ç¡®è¯Šäººæ•°")               |
| xaxis_opts  | xè½´é…ç½®é¡¹        | xaxis_opts=opts.AxisOpts(name="æ—¶é—´")                       |
| legend_opts | å›¾ä¾‹é…ç½®é¡¹       | legend_opts=opts.LegendOpts(pos_left='70%')                 |

```python
.set_global_opts(
	# è®¾ç½®å›¾æ ‡é¢˜å’Œä½ç½® 
	title_opts=opts.TitleOpts(title="2020å¹´ å°ğŸ‡®ğŸ‡³ç¾ğŸ‡ºğŸ‡¸æ—¥ğŸ‡¯ğŸ‡µ ç´¯è®¡ç¡®è¯Šäººæ•°å¯¹æ¯”å›¾",pos_left="center"), 
	# xè½´é…ç½®é¡¹ 
	xaxis_opts=opts.AxisOpts(name=â€œæ—¶é—´â€),    # è½´æ ‡é¢˜ 
	# yè½´é…ç½®é¡¹ 
	yaxis_opts=opts.AxisOpts(name=â€œç´¯è®¡ç¡®è¯Šäººæ•°â€),    # è½´æ ‡é¢˜ 
	# å›¾ä¾‹é…ç½®é¡¹ 
	legend_opts=opts.LegendOpts(pos_left=â€˜70%â€˜),    # å›¾ä¾‹çš„ä½ç½® 
)
```

![image-20250216144636770](https://raw.githubusercontent.com/onetioner/img/main/PicGo2/202502161446825.png)

æ€»ä»£ç 

```python
"""
æ¼”ç¤ºå¯è§†åŒ–éœ€æ±‚1ï¼šæŠ˜çº¿å›¾å¼€å‘
"""
import json
from pyecharts.charts import Line
from pyecharts.options import TitleOpts, LabelOpts

# å¤„ç†æ•°æ®
f_us = open("/Users/onesion/Desktop/DeskOnesion/ComputerFiles/Python/Pythonèµ„æ–™/ç¬¬1-12ç« èµ„æ–™/èµ„æ–™/å¯è§†åŒ–æ¡ˆä¾‹æ•°æ®/æŠ˜çº¿å›¾æ•°æ®/ç¾å›½.txt", "r", encoding="UTF-8")
us_data = f_us.read()  # ç¾å›½çš„å…¨éƒ¨å†…å®¹

f_jp = open("/Users/onesion/Desktop/DeskOnesion/ComputerFiles/Python/Pythonèµ„æ–™/ç¬¬1-12ç« èµ„æ–™/èµ„æ–™/å¯è§†åŒ–æ¡ˆä¾‹æ•°æ®/æŠ˜çº¿å›¾æ•°æ®/æ—¥æœ¬.txt", "r", encoding="UTF-8")
jp_data = f_jp.read()  # æ—¥æœ¬çš„å…¨éƒ¨å†…å®¹

f_in = open("/Users/onesion/Desktop/DeskOnesion/ComputerFiles/Python/Pythonèµ„æ–™/ç¬¬1-12ç« èµ„æ–™/èµ„æ–™/å¯è§†åŒ–æ¡ˆä¾‹æ•°æ®/æŠ˜çº¿å›¾æ•°æ®/å°åº¦.txt", "r", encoding="UTF-8")
in_data = f_in.read()  # å°åº¦çš„å…¨éƒ¨å†…å®¹

# å»æ‰ä¸åˆJSONè§„èŒƒçš„å¼€å¤´
us_data = us_data.replace("jsonp_1629344292311_69436(", "")
jp_data = jp_data.replace("jsonp_1629350871167_29498(", "")
in_data = in_data.replace("jsonp_1629350745930_63180(", "")

# å»æ‰ä¸åˆJSONè§„èŒƒçš„ç»“å°¾
us_data = us_data[:-2]
jp_data = jp_data[:-2]
in_data = in_data[:-2]

# JSONè½¬Pythonå­—å…¸
us_dict = json.loads(us_data)
jp_dict = json.loads(jp_data)
in_dict = json.loads(in_data)

# è·å–trend key
us_trend_data = us_dict['data'][0]['trend']
jp_trend_data = jp_dict['data'][0]['trend']
in_trend_data = in_dict['data'][0]['trend']


# è·å–æ—¥æœŸæ•°æ®ï¼Œç”¨äºxè½´ï¼Œå–2020å¹´ï¼ˆåˆ°314ä¸‹æ ‡ç»“æŸï¼‰
us_x_data = us_trend_data['updateDate'][:314]
jp_x_data = jp_trend_data['updateDate'][:314]
in_x_data = in_trend_data['updateDate'][:314]

# è·å–ç¡®è®¤æ•°æ®ï¼Œç”¨äºyè½´ï¼Œå–2020å¹´ï¼ˆåˆ°314ä¸‹æ ‡ç»“æŸï¼‰
us_y_data = us_trend_data['list'][0]['data'][:314]
jp_y_data = jp_trend_data['list'][0]['data'][:314]
in_y_data = in_trend_data['list'][0]['data'][:314]

# ç”Ÿæˆå›¾è¡¨
line = Line()  # æ„å»ºæŠ˜çº¿å›¾å¯¹è±¡

# æ·»åŠ xè½´æ•°æ®
line.add_xaxis(us_x_data)  # xè½´æ˜¯å…¬ç”¨çš„ï¼Œæ‰€ä»¥ä½¿ç”¨ä¸€ä¸ªå›½å®¶çš„æ•°æ®å³å¯

# æ·»åŠ yè½´æ•°æ®
line.add_yaxis("ç¾å›½ç¡®è®¤äººæ•°", us_y_data, label_opts=LabelOpts(is_show=False))  # æ·»åŠ ç¾å›½çš„yè½´æ•°æ®
line.add_yaxis("æ—¥æœ¬ç¡®è®¤äººæ•°", jp_y_data, label_opts=LabelOpts(is_show=False))  # æ·»åŠ æ—¥æœ¬çš„yè½´æ•°æ®
line.add_yaxis("å°åº¦ç¡®è®¤äººæ•°", in_y_data, label_opts=LabelOpts(is_show=False))  # æ·»åŠ å°åº¦çš„yè½´æ•°æ®

# è®¾ç½®å…¨å±€é€‰é¡¹
line.set_global_opts(
    # æ ‡é¢˜è®¾ç½®
    title_opts=TitleOpts(title="2020å¹´ç¾æ—¥å°ä¸‰å›½ç¡®è®¤äººæ•°å¯¹æ¯”æŠ˜çº¿å›¾", pos_left="center", pos_bottom="1%")
)

# è°ƒç”¨renderæ–¹æ³•ï¼Œç”Ÿæˆå›¾è¡¨
line.render()

# å…³é—­æ–‡ä»¶
f_us.close()
f_jp.close()
f_in.close()
```

